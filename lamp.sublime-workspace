{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"_",
				"_dist_"
			],
			[
				"a",
				"abs"
			],
			[
				"la",
				"last_place_id"
			],
			[
				"brok",
				"broker_type"
			],
			[
				"broker",
				"broker_type"
			],
			[
				"b",
				"broker_id"
			],
			[
				"m",
				"msg"
			],
			[
				"mai",
				"main_push_info"
			],
			[
				"ma",
				"main_push_info"
			],
			[
				"new",
				"newUFSInfo"
			],
			[
				"ta",
				"talent_broker_tag"
			],
			[
				"me",
				"memcachedKey"
			],
			[
				"mem",
				"mem_obj"
			],
			[
				"str_rep",
				"str_replace"
			],
			[
				"bro",
				"broker_type"
			],
			[
				"create",
				"createMemcache"
			],
			[
				"broke",
				"broker_id"
			],
			[
				"up",
				"updated_time"
			],
			[
				"update",
				"updateBrokerMemcached"
			],
			[
				"prop",
				"prop_ids"
			],
			[
				"A",
				"Apf_Cache_MemcacheClient"
			],
			[
				"var",
				"var_dump"
			],
			[
				"mysql_",
				"mysql_connect"
			]
		]
	},
	"buffers":
	[
		{
			"file": "/Users/jackdong/workspace/user-site/app-ershou-web/classes/ershou/web/ppc/Click.php",
			"settings":
			{
				"buffer_size": 1868,
				"line_ending": "Unix"
			}
		},
		{
			"file": "/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/comm/UpdateCommInfoAmqp.php",
			"settings":
			{
				"buffer_size": 6745,
				"line_ending": "Unix"
			}
		}
	],
	"build_system": "Packages/User/php.sublime-build",
	"command_palette":
	{
		"height": 387.0,
		"selected_items":
		[
			[
				":w",
				":w - Save"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"inst",
				"Package Control: Install Package"
			],
			[
				"Snippet: ",
				"Snippet: #!/usr/bin/env"
			],
			[
				"git",
				"Git: Blame"
			],
			[
				"Package Control: in",
				"Package Control: Install Package"
			],
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"remo",
				"Package Control: Remove Package"
			],
			[
				":$",
				":$ - EOF"
			],
			[
				":",
				":w - Save"
			],
			[
				":q",
				"Set Syntax: SQL"
			],
			[
				":W",
				":w - Save"
			],
			[
				"ctags",
				"CTags: Rebuild Tags"
			],
			[
				"c",
				"CTags: Rebuild Tags"
			],
			[
				"Package Control: tag",
				"Package Control: Install Package"
			],
			[
				":set nu",
				"Preferences: Settings - User"
			],
			[
				"pacins",
				"Package Control: Upgrade/Overwrite All Packages"
			],
			[
				"packa",
				"Package Control: List Packages"
			]
		],
		"width": 449.0
	},
	"console":
	{
		"height": 126.0,
		"history":
		[
			"import urllib.request,os,hashlib; h = '7183a2d3e96f11eeadd761d777e62404' + 'e330c659d4bb41d3bdf022e94cab3cd0'; pf = 'Package Control.sublime-package'; ipp = sublime.installed_packages_path(); urllib.request.install_opener( urllib.request.build_opener( urllib.request.ProxyHandler()) ); by = urllib.request.urlopen( 'http://sublime.wbond.net/' + pf.replace(' ', '%20')).read(); dh = hashlib.sha256(by).hexdigest(); print('Error validating download (got %s instead of %s), please try manual install' % (dh, h)) if dh != h else open(os.path.join( ipp, pf), 'wb' ).write(by)",
			"import urllib2,os; pf='Package Control.sublime-package'; ipp=sublime.installed_packages_path(); os.makedirs(ipp) if not os.path.exists(ipp) else None; urllib2.install_opener(urllib2.build_opener(urllib2.ProxyHandler())); open(os.path.join(ipp,pf),'wb').write(urllib2.urlopen('http://sublime.wbond.net/'+pf.replace(' ','%20')).read()); print 'Please restart Sublime Text to finish installation'"
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"file_history":
	[
		"/Users/jackdong/workspace/user-site/app-user-common/classes/user/common/ppc/Click.php",
		"/Users/jackdong/workspace/user-site/app-user-common/classes/user/common/ppc/Parameter.php",
		"/Users/jackdong/workspace/user-site/app-user-job/classes/user/job/AbstractAMQPJob.php",
		"/Users/jackdong/workspace/user-site/app-user-common/config/amqp_ex.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/comm/solr/BuildCommunitySolrQueue.php",
		"/Users/jackdong/workspace/user-site/app-biz/classes/biz/community/comm/SolrBiz.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/comm/UpdateCommInfoAmqp.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/comm/solr/BuildCommunitySolrDaily.php",
		"/Users/jackdong/workspace/haozu-site/app-haozu-jobs/config/amqp_ex.php",
		"/Users/jackdong/workspace/anjuke-site/app-jobs/config/amqp_ex.php",
		"/Users/jackdong/workspace/anjuke-site/app-anjuke-kernel/config/amqp.php",
		"/Users/jackdong/workspace/anjuke-site/app-anjuke/classes/dao/AreaMemcache.php",
		"/Users/jackdong/workspace/system/classes/APF.php",
		"/Users/jackdong/Documents/lamp/namespace.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/model/CommunityMonitor.php",
		"/Users/jackdong/Free-Workspace/hydong/index.html",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/classes/dao/school/School.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/build_community_index_v3.php",
		"/Users/jackdong/workspace/user-site/app-biz/classes/biz/community/comm/PeripheryBiz.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/classes/util/MemCacheTime.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/service/NearByService.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/monitor/MonitorCrawl.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/monitor/MonitorRelation.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/monitor/MonitorCircle.php",
		"/Users/jackdong/Documents/lamp/echo.php",
		"/Users/jackdong/workspace/system-ext/lib/phpunit-mock-objects/Tests/MockObject/nonexistent_class_with_namespace_starting_with_separator.phpt",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/model/Community.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/service/CommunityService.php",
		"/Users/jackdong/workspace/user-site/app-biz/classes/biz/community/NearbyBiz.php",
		"/Users/jackdong/workspace/user-site/app-user-core/classes/user/core/service/CommunityService.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke-kernel/classes/search/CommunitySearch.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/component/community/CommunitySubscribe.css",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/config/community.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/controller/ajax/CommUnitPrice.php",
		"/Users/jackdong/workspace/doc/bug/common.md",
		"/Users/jackdong/workspace/v2-feature/app-anjuke-kernel/classes/orm/CrmORM.php",
		"/Users/jackdong/workspace/v2-feature/system/classes/apf/Component.php",
		"/Users/jackdong/workspace/system/classes/apf/Component.php",
		"/Users/jackdong/workspace/user-site/app-user-core/classes/user/core/service/MetroTagService.php",
		"/Users/jackdong/workspace/system-ext/classes/apf/db/dao/CacheTag.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/yixun/CountAward.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/classes/dao/CityType.php",
		"/Users/jackdong/Desktop/NearbyBiz.php",
		"/Users/jackdong/workspace/doc/README.md",
		"/Users/jackdong/workspace/system-ext/classes/apf/BaseService.php",
		"/Users/jackdong/workspace/user-site/app-ershou-core/config/api.php",
		"/Users/jackdong/workspace/doc/mobileWeb/devDoc/design/21214/PeripheryIndexDetail.md",
		"/Users/jackdong/workspace/user-site/app-ershou-core/classes/ershou/core/service/PropertyService.php",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/Function Name Display.sublime-settings",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/crawl/BaiduNearby.php",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/Function Name Display/Function Name Display.sublime-settings",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/bll/CommunityBll.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/util/LuceneUtils.php",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/SublimeLinter.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/SublimeLinter/SublimeLinter.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/Git.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/Git/Git.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/Preferences.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/Default/Preferences.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/Default/Default (OSX).sublime-keymap",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/Distraction Free.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/JSON.sublime-settings",
		"/Users/jackdong/Library/Application Support/Sublime Text 3/Packages/User/Default (OSX).sublime-keymap",
		"/Users/jackdong/workspace/system-ext/classes/apf/cache/MemcacheClient.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/solr/BuildBaiduData.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/crawl/BusLine.php",
		"/Users/jackdong/workspace/system-ext/lib/dbunit/build.xml",
		"/Users/jackdong/workspace/doc/jinpu/solr/Building.md",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/newhome/BuildIndex.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/blockUFS.php",
		"/Users/jackdong/Documents/lamp/b.php",
		"/Users/jackdong/workspace/user-site/app-dao/config/database.php",
		"/Users/jackdong/workspace/user-site/indexCommon.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/bin/launcher.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/dao/CommPlaceRelationDao.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/dao/SplitCommPlaceRelationDaoInfo.php",
		"/Users/jackdong/workspace/user-site/app-community-core/classes/community/core/comm/dto/CommunityMap.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/sale/auction_to_solr.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/sale/AuctionToSolr.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/dao/sale/Queue.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/dao/sale/Community.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/dao/sale/Property.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/dao/sale/Split.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/config/common.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke-kernel/config/database.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/config/database.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/page/view/property/AiFang.css",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/property/chart/Icon.php",
		"/Users/jackdong/Desktop/mainpushamp.php",
		"/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/broker/MainPushAmqp.php",
		"/Users/jackdong/workspace/user-site/app-ershou-web/controller/ershou/web/property/View.php",
		"/Users/jackdong/workspace/v2-feature/system/classes/apf/cache/Factory.php",
		"/Users/jackdong/Documents/lamp/socket.php",
		"/Users/jackdong/Downloads/_nydus_2014-06-28_app10-110",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/property/BrokerInfo.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/tools/sysc_property_index.php",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/page/view/property/ViewYzPropV2.css",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/page/view/property/ViewPropV2.css",
		"/Users/jackdong/workspace/v2-feature/app-anjuke/page/view/property/Rent.css",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/dao/sale/Progress.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/log/Sale.php",
		"/Library/WebServer/Documents/yangxiaobo1/manage/img_cut/prototype.js",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/sale/pricing_to_solr.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/sale/PricingToSolr.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/bin/sale/pricing_update_solr.php",
		"/Users/jackdong/workspace/v2-feature/app-jobs/classes/sale/PricingUpdateSolr.php",
		"/Library/WebServer/Documents/demo/b.php",
		"/Library/WebServer/Documents/demo/c.php",
		"/Users/jackdong/Documents/lamp/preg_split.php",
		"/Library/WebServer/Documents/demo/preg_split.php",
		"/Users/jackdong/Documents/lamp/mysql.conf",
		"/Users/jackdong/Documents/lamp/mbstring.php",
		"/Library/WebServer/Documents/demo/mbstring.php",
		"/Users/jackdong/Documents/lamp/mail.php",
		"/Library/WebServer/Documents/demo/mail.php",
		"/Users/jackdong/Documents/lamp/ccccc.php",
		"/Users/jackdong/Workspace/anjuke-site/app-anjuke/classes/bll/communitys/Community.php",
		"/Users/jackdong/Workspace/user-site/app-ershou-job/classes/ershou/job/property/chart/Icon.php",
		"/Users/jackdong/Workspace/anjuke-site/app-anjuke/classes/dao/ufs/Ufs.php",
		"/Users/jackdong/Workspace/anjuke-site/app-anjuke/classes/search/SaleCommunity.php",
		"/Users/jackdong/Workspace/user-site/app-ershou-core/classes/ershou/core/property/service/PropertyService.php",
		"/Users/jackdong/Workspace/user-site/app-ershou-web/controller/ershou/web/property/View.php",
		"/Users/jackdong/Workspace/anjuke-site/app-anjuke/controller/view/property/ViewPropertyV2.php",
		"/Users/jackdong/Workspace/anjuke-site/app-anjuke/classes/uri/Lucene.php",
		"/Users/jackdong/Workspace/user-site/app-ershou-core/classes/ershou/core/service/PropertyService.php",
		"/Users/jackdong/Workspace/devel-config/config/user-site/ershou-web/common.php",
		"/Users/jackdong/Workspace/user-site/app-ershou-web/controller/ershou/web/view/property/ViewProperty.php",
		"/Users/jackdong/Workspace/user-site/app-ershou-job/classes/ershou/job/broker/MainPushAmqp.php"
	],
	"find":
	{
		"height": 35.0
	},
	"find_in_files":
	{
		"height": 93.0,
		"where_history":
		[
			"/Users/jackdong/workspace/user-site",
			"/Users/jackdong/workspace/user-site/app-biz/classes/biz/community/comm",
			"/Users/jackdong/workspace/user-site/app-community-core",
			"/Users/jackdong/workspace/user-site",
			"/Users/jackdong/workspace/user-site/app-community-core",
			"/Users/jackdong/workspace/v2-feature",
			"/Users/jackdong/workspace/user-site",
			"/Users/jackdong/workspace/v2-feature",
			"/Users/jackdong/Workspace",
			"/Users/jackdong/Workspace/user-site",
			"/Users/jackdong/Workspace/anjuke-site/app-anjuke/controller",
			"/Users/jackdong/Workspace/anjuke-site",
			"/Users/jackdong/Workspace",
			"/Users/jackdong/Workspace/haozu-site",
			"/Users/jackdong/Workspace/anjuke-site/app-anjuke",
			"/Users/jackdong/Workspace/user-site",
			"/Users/jackdong/Workspace/anjuke-site/app-anjuke",
			"/Users/jackdong/Workspace",
			"/Users/jackdong/Workspace/anjuke-site/app-anjuke",
			"/Users/jackdong/Workspace/user-site",
			"/Users/jackdong/Workspace/anjuke-site/app-anjuke",
			"/Users/jackdong/Workspace/user-site",
			"/Library/WebServer/Documents/yangxiaobo"
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"uniqid",
			"getOneDay",
			"getSchoolByCommid",
			"property",
			"mo'de'l",
			"Community_Core_Comm_Service_NearByService",
			"hospital_content",
			"key",
			"foreach",
			"school_name",
			"schools_info",
			"school_type",
			"if",
			"hospital_content",
			");\n",
			"hospital",
			"Hospital",
			"hospital",
			"HOSPITAL",
			"hospital",
			"Hospital",
			"hospital",
			"HOSPITAL",
			"hospital",
			"foreach",
			"false",
			"<?php\n/**\n * @小区周边指数Biz\n * @author xiaolu <beckyxu@anjuke.com>\n */\nclass Biz_Community_Comm_PeripheryBiz extends Apf_BaseService {\n    /**\n     * @var Community_Core_Comm_Service_CommunityService\n     */\n    protected $communityService;\n\n    /**\n     * @var Community_Core_Comm_Service_SchoolService\n     */\n    protected $schoolService;\n\n    /**\n     * @var Community_Core_Comm_Service_SwMetrosService\n     */    \n    protected $swMetrosService;\n\n    /**\n     * @var Community_Core_Comm_Service_BusService\n     */\n    protected $busService;\n\n    public function __construct() {\n        parent::__construct();\n    }\n\n    /**\n     * 根据place_id查询地铁的站点信息和线路信息\n     * @author xiaolu\n     * @date 2014/06/23\n     * @nearby_data array 小区周边的地铁原始数据\n     */\n    public function getMetroInfo($nearby_data){\n        $place_ids = $metro_ids = $metro_res = $metro_content = array();\n        foreach($nearby_data as $v){\n            $place_ids[] = $v->place_id;\n        }\n        //查询地铁站信息\n        if(!$place_ids){\n            return $metro_content;\n        }\n        $stations_info  = $this->swMetrosService->getMetroStationInfo($place_ids);\n        foreach($stations_info as $v){\n            $metro_ids[] = $v->metro_id;\n        }\n        //查询地铁线路信息\n        $metros_info  = $this->swMetrosService->getMetroInfo($metro_ids);\n   db2_client_info(connection)     foreach($stations_info as $v){\n            $metro_res[$v->name][] = str_replace('号线', '', $metros_info[$v->metro_id]->name);\n        }\n\n        foreach($metro_res as $key => &$metro){\n            sort($metro);\n            $metro_content[] = $key . '(' . implode('、', $metro) . '号线)';           \n        }\n        \n        return $metro_content;\n    }\n\n    /**\n     * 根据place_id查询公交的站点信息和线路信息\n     * @author xiaolu\n     * @date 2014/06/23\n     * @nearby_data array 小区周边的公交原始数据\n     */\n    public function getBusInfo($nearby_data){\n        $place_ids = $relation_ids = $station_relations = $bus_content = array();\n        foreach($nearby_data as $v){\n            $place_ids[] = $v->place_id;\n        }\n\n        if(!$place_ids){\n            return $bus_content;\n        }\n        //查询公交站点信息\n        $stations_info  = $this->busService->getBusStationInfo($place_ids);\n        //查询公交站点和公交线路的关系信息（一对多）\n        $relations_info = $this->busService->getBusRelationIds($place_ids);\n        foreach($relations_info as $v){\n            $station_relations[$v->station_id][] = $v;\n            $relation_ids[] = $v->line_id;\n        }\n        //查询公交线路信息\n        $lines_info = $this->busService->getBusLineInfo($relation_ids);\n        foreach($stations_info as $key => $station){\n            $line_name = array();\n            foreach($station_relations[$key] as $v){\n                $line_name[] = $lines_info[$v->line_id]['name'];\n            }\n            $line_name = array_unique($line_name);\n            $bus_content[] = $station->station_name.'('.implode('、', $line_name).')';\n        }\n        \n        return $bus_content;\n    }\n\n    /**\n     * 根据place_id查询学校信息\n     * @author xiaolu\n     * @date 2014/06/23\n     * @nearby_data array 小区周边的学校原始数据\n     */\n    public function getSchoolInfo($nearby_data){\n        $school_list = $tag_level = array();\n        foreach($nearby_data as $key => &$v){\n            $place_ids[] = $v->place_id;\n        }\n        if(!$place_ids){\n            return array();\n        }\n        //查询学校信息\n        $schools_info = $this->schoolService->getSchoolInfoById($place_ids);\n        $tag_info = $this->getTagInfo(Community_Core_Const_NearbyType::NEARBY_TYPE_SCHOOL);\n        foreach($nearby_data as $key => &$v){\n            $tag_ids = array();\n            if($v->dict_ids){\n                $tag_ids = explode(',', $v->dict_ids);\n                $tag_ids = array_filter($tag_ids);\n                sort($tag_ids);\n            }\n            $school_type = current(explode('(', $tag_info[$tag_ids[0]]['comment']));\n            $school_name = $schools_info[$v->place_id]->name;\n            if($tag_info[$tag_ids[1]]['comment']){\n                $school_name.= '('. $tag_info[$tag_ids[1]]['comment'] .')';\n            }\n            $school_list[$school_type][] = $school_name;\n            $tag_level[$school_type] = $tag_info[$tag_ids[0]]['level'];\n            $schoolOrder[$school_type][] = $tag_info[$tag_ids[1]]['level']*100 + $tag_info[$tag_ids[2]]['level'];\n        }\n        //按照学校类型排序\n        array_multisort($tag_level, SORT_ASC, $school_list);\n        foreach($school_list as $key => &$v){\n            //同类学校按照等级排序\n            array_multisort($schoolOrder[$key], SORT_ASC, $v);\n            if(count($school_list) == 1){\n                $content_name = $v;\n            }else{\n                $content_name[] = $v[0];\n            }\n            $v = implode('、', $v);\n        }\n\n        return array(\n            'list' => $school_list,\n            'content' => $content_name,\n        );\n    }\n\n    /**\n     * 根据place_id查询医院信息\n     * @author xiaolu\n     * @date 2014/06/23\n     * @nearby_data array 小区周边的医院原始数据\n     */\n    public function getHospitalInfo($nearby_data){\n        $place_ids = $hospital_content = array();\n        foreach($nearby_data as $key => $v){\n            $place_ids[] = $v->place_id;\n        }\n        if(!$place_ids){\n            return $hospital_content;\n        }\n        //查询医院信息\n        $hospitals_info = $this->communityService->getNearbyInfoById($place_ids);\n        $tag_info = $this->getTagInfo(Community_Core_Const_NearbyType::NEARBY_TYPE_HOSPITAL);\n        foreach($nearby_data as $key => $v){\n            $tag_ids = array();\n            $hospital_name = $hospitals_info[$v->place_id]->name;\n            if($v->dict_ids){\n                $tag_ids = explode(',', $v->dict_ids);\n                $tag_ids = array_filter($tag_ids);\n                sort($tag_ids);\n                if($tag_info[$tag_ids[2]]['comment'] || $tag_info[$tag_ids[3]]['comment']){\n                    $hospital_content[] = $hospital_name.'('.$tag_info[$tag_ids[2]]['comment'].$tag_info[$tag_ids[3]]['comment'].')';\n                }else{\n                    $hospital_content[] = $hospital_name;\n                }\n            }else{\n                $hospital_content[] = $hospital_name;\n            }\n            if(!$tag_info[$tag_ids[2]]['level']){\n                $tag_info[$tag_ids[2]]['level'] = 100;\n            }\n            $hospitalOrder[] = $tag_info[$tag_ids[2]]['level']*100 + $tag_info[$tag_ids[3]]['level'];\n        }\n        //将医院按照等级排序\n        array_multisort($hospitalOrder, SORT_ASC, $hospital_content);\n\n        return $hospital_content;\n    }\n\n    /**\n     * 根据place_id查询商业信息\n     * @author xiaolu\n     * @date 2014/06/23\n     * @nearby_data array 小区周边的商业原始数据\n     */\n    public function getBusinessInfo($nearby_data){\n        $place_ids = $distance = $business_distance = $business_list = $business_name = $business_content = array();\n        foreach($nearby_data as $v){\n            $place_ids[] = $v->place_id;\n            $distance[$v->place_id] = $v->distance;\n        }\n        if(!$place_ids){\n            return $business_content;\n        }\n        //获取所有商业信息\n        $businesses_info = $this->communityService->getNearbyInfoById($place_ids);\n        foreach($businesses_info as $v){\n            $business_distance[] = $distance[$v->id];\n        }\n\n        //按照距离排序\n        array_multisort($business_distance, SORT_ASC, $businesses_info);\n        $business_type = array(\n            Community_Core_Const_NearbyType::NEARBY_TYPE_BANK => '银行',\n            Community_Core_Const_NearbyType::NEARBY_TYPE_SUPERMARKET => '超市',\n            Community_Core_Const_NearbyType::NEARBY_TYPE_RESTAURANT => '餐饮',\n        );\n        foreach($businesses_info as $v){\n            $business_name[] = $v->name;\n            $business_list[$business_type[$v->type_id]][] = $v->name;\n        }\n        //format\n        foreach($business_list as $key => &$v){\n            $v = implode('、', $v);\n        }\n\n        return $business_content = array(\n            'content' => $business_name,\n            'list' => $business_list,\n        );\n    }\n\n    /**\n     * 根据type_id查询等级信息\n     * @author xiaolu\n     * @date 2014/06/23\n     * @type_id int 周边类型\n     */\n    public function getTagInfo($type_id){\n        $tag_data = $this->communityService->getNearbyTagByTypeId($type_id);\n\n        $tag_info = array();\n        foreach($tag_data as $key => $v){\n            $tag_info[$v['id']] = array(\n                'level' => $v['dict_level'],\n                'comment' => $v['comment'],\n            );\n        }\n\n        return $tag_info;\n    }\n    \n    /* (non-PHPdoc)\n     * @see Apf_BaseService::getInitObjectMap()\n     */\n    public function getInitObjectMap() {\n        return array(\n            'Community_Core_Comm_Service_CommunityService' => '',\n            'Community_Core_Comm_Service_SchoolService' => '',\n            'Community_Core_Comm_Service_SwMetrosService' => '',\n            'Community_Core_Comm_Service_BusService' => '',\n            'Ershou_Core_Service_PropertyService'=>'',\n        );\n    }\n}\n",
			"afa",
			"af",
			"true",
			"level",
			"false",
			"getSubInitObjectMap",
			"placeInfoDao",
			"Community_Core_Comm_Dao_PlaceInfoDao",
			"user_prop_master",
			"place_info",
			"commPlaceRelationDao",
			"Community_Core_Comm_Dao_SplitCommPlaceRelationDaoInfo",
			"mapCommunitiesSosoPanoDao",
			"local",
			"function",
			"slave_for_update",
			"getMergeCommId",
			"getProExtByProId",
			"bolPropRebuild",
			"slave_for_update",
			"rank_solr_update_prop_mapping",
			"rank_solr_update_prop_data_split_open",
			"formatPropertyData",
			"getCityGroup",
			"solr.anjuke.test",
			"queue_slave",
			"getGroupAuctionByProIds",
			"update",
			"mem_obj",
			"set",
			"push_propertys",
			"set_memcache_class",
			"addServer",
			"function memcache",
			"instance",
			"broker_id",
			"219798644",
			"219774498",
			"get_memcache",
			"function set",
			"set",
			"broker_info_",
			"219798644",
			"219774498",
			"220109931",
			"\"202134\"",
			"219774498",
			"\"202134\"",
			"\"202134\" ",
			"\"202134\"",
			"202134",
			"219774498",
			"\"202134\"",
			"202134",
			"219798644",
			"\"broker_id\":\"202134\"",
			"53adf57ae4b01ebe7c5848cb",
			"219798644",
			"219774498",
			"202134",
			"ajk-saleauction",
			"ajk-propauction",
			"prop_solr_url_mapping",
			"ajk-saleprop",
			"a'j'k",
			"class xmlWriter",
			"anjuke_db_5",
			"getAuctionPlan",
			"ark_slave",
			"get_broker_paytype",
			"slave_for_update",
			"select_broker_info",
			"prop_shanghai_s",
			"rank_solr_update_city_mapping",
			"anjuke_db_5_slave",
			"getPropertyByProId",
			"formatPropertyData",
			"ark_slave",
			"getAuctionByProId",
			"function update",
			"prop_shanghai_slave",
			"prop",
			"ark_slave",
			"a'r'k",
			"database.php",
			"database",
			"anjuke_db_5_slave",
			"an'ju",
			"function update",
			"tags",
			"memcache",
			"get_result_from_lucene",
			"facet_comm_count_by_ids",
			"get_comms_sale_count",
			"get_comm_rent_count",
			"setufs",
			"get(",
			"KEY_BROKER_RANK_IN_CITY",
			"getBrokerRankInCity",
			"get_result_from_lucene",
			"get_comms_sale_count"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"key",
			"aa",
			"true",
			"3242",
			"3242 3032"
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 1,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "/Users/jackdong/workspace/user-site/app-ershou-web/classes/ershou/web/ppc/Click.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 1868,
						"regions":
						{
						},
						"selection":
						[
							[
								1868,
								1868
							]
						],
						"settings":
						{
							"function_name_status_row": 61,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 481.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "/Users/jackdong/workspace/user-site/app-ershou-job/classes/ershou/job/community/comm/UpdateCommInfoAmqp.php",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6745,
						"regions":
						{
						},
						"selection":
						[
							[
								2946,
								2946
							]
						],
						"settings":
						{
							"function_name_status_row": 141,
							"syntax": "Packages/PHP/PHP.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 2041.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 34.0
	},
	"input":
	{
		"height": 31.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.exec":
	{
		"height": 100.0
	},
	"output.find_results":
	{
		"height": 100.0
	},
	"project": "lamp.sublime-project",
	"replace":
	{
		"height": 64.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"selected_items":
		[
			[
				"app-ershou-web/classes/ershou/web/ppc/click.php",
				"workspace/user-site/app-ershou-web/classes/ershou/web/ppc/Click.php"
			],
			[
				"amqp_ex",
				"workspace/user-site/app-user-common/config/amqp_ex.php"
			],
			[
				"app-biz/classes/biz/community/comm/solrbiz.php",
				"workspace/user-site/app-biz/classes/biz/community/comm/SolrBiz.php"
			],
			[
				"app-community-core/classes/community/core/comm/model/communitymonitor.php",
				"workspace/user-site/app-community-core/classes/community/core/comm/model/CommunityMonitor.php"
			],
			[
				"app-ershou-job/classes/ershou/job/community/nearby/monitor/monitorrelation.php",
				"user-site/app-ershou-job/classes/ershou/job/community/nearby/monitor/MonitorRelation.php"
			],
			[
				"app-ershou-job/classes/ershou/job/community/nearby/monitor/monitorcircle.php",
				"user-site/app-ershou-job/classes/ershou/job/community/nearby/monitor/MonitorCircle.php"
			],
			[
				"communitycorecommservicenearbyservice",
				"user-site/app-community-core/classes/community/core/comm/service/NearByService.php"
			],
			[
				"/app-community-core/classes/community/core/comm/model/communitymonitor.php",
				"user-site/app-community-core/classes/community/core/comm/model/CommunityMonitor.php"
			],
			[
				"communitycorecommmodelcommunitymonitor",
				"user-site/app-community-core/classes/community/core/comm/model/CommunityMonitor.php"
			],
			[
				"",
				"doc/bug/common.md"
			],
			[
				"buildbaidu",
				"workspace/user-site/app-ershou-job/classes/ershou/job/community/nearby/solr/BuildBaiduData.php"
			],
			[
				"communitycorecommdaocommplacerelationdao",
				"workspace/user-site/app-community-core/classes/community/core/comm/dao/CommPlaceRelationDao.php"
			],
			[
				"auctiontosolr.php",
				"workspace/v2-feature/app-jobs/classes/sale/AuctionToSolr.php"
			],
			[
				"ershoucorepropertyserviceproperty",
				"Workspace/user-site/app-ershou-core/classes/ershou/core/property/service/PropertyService.php"
			],
			[
				"propertyservice",
				"Workspace/user-site/app-ershou-core/classes/ershou/core/service/PropertyService.php"
			],
			[
				"ershouwebviewpropertyviewproperty",
				"user-site/app-ershou-web/controller/ershou/web/view/property/ViewProperty.php"
			],
			[
				"amqp.php",
				"user-site/app-ershou-job/config/amqp.php"
			],
			[
				"viewpropertyviewpropertycrawl",
				"anjuke-site/app-anjuke/controller/view/property/ViewPropertyCrawl.php"
			],
			[
				"viewpropertyviewpropsale",
				"anjuke-site/app-anjuke/page/view/property/ViewPropSale.php"
			],
			[
				"app-anjuke/page/view/property/viewpropsalev3.js",
				"anjuke-site/app-anjuke/page/view/property/ViewPropSaleV3.js"
			],
			[
				"app-anjuke/classes/search/salesearchprops.php",
				"anjuke-site/app-anjuke/classes/search/SaleSearchProps.php"
			],
			[
				"app-anjuke/component/findingv2/saleprops.phtml",
				"anjuke-site/app-anjuke/component/findingv2/SaleProps.phtml"
			],
			[
				"app-anjuke/page/view/property/viewpropsalev3.phtml",
				"anjuke-site/app-anjuke/page/view/property/ViewPropSaleV3.phtml"
			],
			[
				"app-anjuke/page/view/property/viewpropsalev3.css",
				"anjuke-site/app-anjuke/page/view/property/ViewPropSaleV3.css"
			],
			[
				"app-anjuke/page/view/property/viewpropsale.php",
				"anjuke-site/app-anjuke/page/view/property/ViewPropSale.php"
			],
			[
				"app-anjuke/page/findingv2/sale.js",
				"anjuke-site/app-anjuke/page/findingv2/Sale.js"
			],
			[
				"app-anjuke/page/findingv2/sale.css",
				"anjuke-site/app-anjuke/page/findingv2/Sale.css"
			],
			[
				"app-anjuke/config/cache.php",
				"anjuke-site/app-anjuke/config/cache.php"
			],
			[
				"pod",
				"anjuke-site/app-anjuke/controller/user/broker/ProDraft.php"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"selected_items":
		[
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 392.0,
		"selected_items":
		[
			[
				"",
				"APF_Component"
			]
		],
		"width": 809.0
	},
	"settings":
	{
		"xdebug":
		{
			"hide_conflict": false
		}
	},
	"show_minimap": false,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 326.0,
	"status_bar_visible": true,
	"template_settings":
	{
		"max_columns": 5
	}
}
